<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>ZULKARNAIN</title>
    <style>
        html {
            height: 100%;
        }

        .bgo {
            background-image: url("/Arsipnomor/latar2.jpg");
            filter: blur(4px);
            -webkit-filter: blur(4px);
            position: fixed;
            width: 100%;
            height: 100%;
            background-size: cover;
            top: 0;
            z-index: -1;
        }

        .bg-secondary {
            background-color: unset !important;
        }

        #formmasuk {
            margin-top: 15px;
        }

        #formubah {
            margin-top: 15px;
        }

        #tbltambah {
            margin-top: 15px;
        }

        form {
            width: 350px;
            margin: auto;
            padding: 40px;
            border-radius: 5px;
            height: fit-content;
            background: linear-gradient(45deg, #510209b0, #ff7c7cf7);
            color: white;
        }

        .wrap {
            margin-top: 14.5vh;
        }

        #tblSuara:hover {
            background-color: rgb(255, 255, 255) !important;
        }

        #tbltambah {
            margin-top: 15px;
            margin-left: 35px; 
        }

        .modal-content {
            background-color: #adb5bd;
        }
    </style>
</head>

<body>

    <audio controls autoplay loop style="visibility: hidden;" id="lagu">
        <!-- <source src="horse.ogg" type="audio/ogg"> -->
        <source src="/Arsipnomor/suara.mp3" type="audio/mp3">

    </audio>
    <div style="position: fixed; right: 20px;top:20px;background-color: rgba(255, 255, 255, 0.342);padding: 5px;border-radius: 15px;"
        id="tblSuara">

        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor"
            class="bi bi-volume-mute-fill" viewBox="0 0 16 16" id="mati">
            <path
                d="M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z" />
        </svg>

        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-volume-up-fill"
            viewBox="0 0 16 16" id="suara" style="display: none;">
            <path
                d="M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z" />
            <path
                d="M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z" />
            <path
                d="M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z" />
        </svg>
    </div>

    <script>

        let tblSuara = document.getElementById('tblSuara')

        tblSuara.addEventListener('click', () => {
            let mati = document.getElementById('mati')
            let suara = document.getElementById('suara')
            let lagu = document.getElementById('lagu')

            if (suara.getAttribute("style", "display") == "display:block") {
                suara.setAttribute("style", "display:none")
                mati.setAttribute("style", "display:block")
                lagu.muted = false
            } else {
                mati.setAttribute("style", "display:none")
                suara.setAttribute("style", "display:block")
                lagu.muted = true
            }
        })
    </script>

    <div class="container-sm">
        <div class="wrap">
            <form class="shadow" id="formlogin">
                <section class="row">
                    <section class="col">
                        <section class="row" style="height: 70px;border-bottom: 1px solid rgb(255, 174, 0);">
                            <section class="col-5" style="color: rgb(250, 250, 250);">
                                <h1>Bismillah.ki</h1>
                            </section>
                        </section>
                        <section class="row" style="margin: 20px 0 20px 0;">
                            <section class="col">
                                <div class="mb-3">
                                    <label for="exampleInputEmail1" class="form-label">Akun</label>
                                    <input type="text" class="form-control" id="username" aria-describedby="emailHelp"
                                        required autocomplete="off">
                                </div>
                                <div class="mb-3">
                                    <label for="exampleInputPassword1" class="form-label">Kata Sandi</label>
                                    <input type="password" class="form-control" id="password" required
                                        autocomplete="off">
                                </div>
                                <button type="submit" class="btn btn-primary" id="formmasuk">Masukki</button>
                                <button type="button" id="tbltambah"
                                    class="btn btn-secondary" data-bs-target="#modalSignin"
                                    data-bs-toggle="modal">Daftar</button>
                            </section>
                        </section>
                    </section>
                </section>
            </form>
        </div>
    </div>
    <div class="bgo"></div>

    <!-- modal daftar orang -->
    <div class="modal fade modal-signin bg-secondary py-5" tabindex="-1" role="dialog"
        aria-labelledby="exampleModalLabel" aria-hidden="true" id="modalSignin">
        <div class="modal-dialog" role="document">
            <div class="modal-content rounded-5 shadow" style="display: table-caption;">
                <div class="modal-header p-5 pb-4 border-bottom-0">
                    <!-- <h5 class="modal-title">Modal title</h5> -->
                    <h2 class="fw-bold mb-0">Daftar</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>


                <div class="modal-body p-5 pt-0">
                    <form class="">
                        <div class="form-floating mb-3">
                            <input  id="akunbaru" type="text" class="form-control rounded-4" id="floatingInput"
                                placeholder="zulkarnain">
                            <label for="floatingInput" style="color: black!important;">Akun Baru</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input id="passbaru" type="password" class="form-control rounded-4" id="floatingPassword"
                                placeholder="Password">
                            <label for="floatingPassword" style="color: black!important;">Kata Sandi</label>
                        </div>
                        <div class="form-floating mb-3">
                            <input id="token" type="text" class="form-control rounded-4" style="background-color: #e8f0fe!important;" id="floatingInput"
                                placeholder="Token">
                            <label for="floatingInput" style="color: black!important;">Token</label>
                        </div>
                        <button id="tbldaftar" class="w-100 mb-2 btn btn-lg rounded-4 btn-primary" type="submit">Daftar</button>
                        <small class="text-muted" style="color:#000000!important;">By clicking Sign up, you agree to the terms of use.</small>
                        <hr class="my-4">
                        <!-- <h2 class="fs-5 fw-bold mb-3">Or use a third-party</h2>
                        <button class="w-100 py-2 mb-2 btn btn-outline-dark rounded-4" type="submit">
                            <svg class="bi me-1" width="16" height="16">
                                <use xlink:href="#twitter" />
                            </svg>
                            Sign up with Twitter
                        </button>
                        <button class="w-100 py-2 mb-2 btn btn-outline-primary rounded-4" type="submit">
                            <svg class="bi me-1" width="16" height="16">
                                <use xlink:href="#facebook" />
                            </svg>
                            Sign up with Facebook
                        </button>
                        <button class="w-100 py-2 mb-2 btn btn-outline-secondary rounded-4" type="submit">
                            <svg class="bi me-1" width="16" height="16">
                                <use xlink:href="#github" />
                            </svg>
                            Sign up with GitHub
                        </button> -->
                    </form>
                </div>
            </div>
        </div>
    </div>



    <script>
        let user = document.getElementById('username')
        let pass = document.getElementById('password')
        let login = document.getElementById('formlogin')
        let daftar = document.getElementById('tbldaftar')
        let akunbaru = document.getElementById('akunbaru')
        let passbaru = document.getElementById('passbaru')



        // Masuk
        login.addEventListener('submit', (e) => {
            let dataorang = JSON.parse(localStorage.getItem('dbAkun'))
            let keysorang = Object.keys(dataorang)
            let emberkosong = "salah"

            for (let i = 0; i < keysorang.length; i++) {
                if (user.value == keysorang[i]) { /////   keysorang[0] == "bkad"
                    emberkosong = "benar"
                    if (pass.value == dataorang[keysorang[i]]) { //  dataorang = {bkad : apabagusdi, elmoun: 1221, zul : 33232} | dataorang['bkad']
                        emberkosong = "benar"
                        location.assign('/Arsipnomor/elmoun.html?id=4d4987b32e2aedb479b5e7d77c9b4ed2fc6a4778')
                    } else {
                        emberkosong = "salah"
                    }
                }
            }
            if (emberkosong == "salah") {
                alert('Akun/Kata Sandi Salah')
            }
            e.preventDefault()
        })

        // fungsi tamabh ke localstorage
        async function dbAkun(dbakunbaru, dbpassbaru) {
            let isiDb = {};

            if (!localStorage.getItem('dbAkun')) {
                isiDb[dbakunbaru] = dbpassbaru;
                localStorage.setItem('dbAkun', JSON.stringify(isiDb));
            }

            isiDb = JSON.parse(localStorage.getItem('dbAkun'));
            isiDb[dbakunbaru] = dbpassbaru;

            localStorage.setItem('dbAkun', JSON.stringify(isiDb))
            return isiDb
        }

        // tambah
        daftar.addEventListener('click', function (e) {
            let dataorang = JSON.parse(localStorage.getItem('dbAkun'))
            let keysorang = Object.keys(dataorang)
            let baskomkosong = 'kosong'

            for (let i = 0; i < keysorang.length; i++) {
                if (akunbaru.value == keysorang[i]) {
                    baskomkosong = "adami";
                    alert('Akun/Kata Sandi Adami')
                    break;
                }
            }

            if (baskomkosong == "kosong") {
                //dasar
                let hasil = dbAkun(akunbaru.value, passbaru.value)
                alert("Tersimpan")
                akunbaru.value = "";
                passbaru.value = "";
                //===   
            }
            e.preventDefault()
        })

    </script>
</body>

</html>