<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ARSIP PENOMORAN 2022</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/v/bs5/dt-1.11.3/b-2.0.1/b-html5-2.0.1/b-print-2.0.1/date-1.1.1/datatables.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/js-datepicker/dist/datepicker.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.0/font/bootstrap-icons.css">
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://unpkg.com/currency.js@2.0.4/dist/currency.min.js"></script>
  <script src="https://unpkg.com/js-datepicker"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.4/pdfmake.min.js"></script>
  <script type="text/javascript"
    src="https://cdn.datatables.net/v/bs5/dt-1.11.3/b-2.0.1/b-html5-2.0.1/b-print-2.0.1/date-1.1.1/datatables.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.4/vfs_fonts.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <script>
    const _0x4cc75d = _0x34b4; function _0x34b4(_0x4bc7e4, _0x56c558) { const _0xd135e1 = _0xd135(); return _0x34b4 = function (_0x34b4cf, _0x1f16b7) { _0x34b4cf = _0x34b4cf - 0x7f; let _0x34529d = _0xd135e1[_0x34b4cf]; if (_0x34b4['hzUcpv'] === undefined) { var _0x3d3843 = function (_0x41029f) { const _0x105d85 = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/='; let _0x4cc568 = '', _0xf6f066 = ''; for (let _0x42a21b = 0x0, _0x99ca4d, _0xa750a1, _0x5420aa = 0x0; _0xa750a1 = _0x41029f['charAt'](_0x5420aa++); ~_0xa750a1 && (_0x99ca4d = _0x42a21b % 0x4 ? _0x99ca4d * 0x40 + _0xa750a1 : _0xa750a1, _0x42a21b++ % 0x4) ? _0x4cc568 += String['fromCharCode'](0xff & _0x99ca4d >> (-0x2 * _0x42a21b & 0x6)) : 0x0) { _0xa750a1 = _0x105d85['indexOf'](_0xa750a1); } for (let _0x3d28de = 0x0, _0x3d98ae = _0x4cc568['length']; _0x3d28de < _0x3d98ae; _0x3d28de++) { _0xf6f066 += '%' + ('00' + _0x4cc568['charCodeAt'](_0x3d28de)['toString'](0x10))['slice'](-0x2); } return decodeURIComponent(_0xf6f066); }; _0x34b4['urohdu'] = _0x3d3843, _0x4bc7e4 = arguments, _0x34b4['hzUcpv'] = !![]; } const _0xe743bd = _0xd135e1[0x0], _0x7d50ae = _0x34b4cf + _0xe743bd, _0x2e342c = _0x4bc7e4[_0x7d50ae]; return !_0x2e342c ? (_0x34529d = _0x34b4['urohdu'](_0x34529d), _0x4bc7e4[_0x7d50ae] = _0x34529d) : _0x34529d = _0x2e342c, _0x34529d; }, _0x34b4(_0x4bc7e4, _0x56c558); } function _0xd135() { const _0x28c315 = ['ngq0otG3yJmYzq', 'mJHsDKf1tgq', 'yxnZAwDU', 'z2v0', 'mteWntj2u0z1BeC', 'oduWndG4txDwAKDP', 'm0zfC1beqq', 'mw5dvLj5Aq', 'mteXndi4nJbts1nqtK0', 'mZq4mtyYogLwvwnZEq', 'mJrVsKLvqLq', 'l2fYC2LWyxjPCW', 'ndGYnJCYnxjdrun6vW', 'mtG4odaYmdjiuvrsDLK', 'nZqYne9Iv1H2sW', 'C2vHCMnO', 'zdjMyZzHndC3oa', 'mtG3ndKYnMDJuwnkzq']; _0xd135 = function () { return _0x28c315; }; return _0xd135(); } (function (_0x3979f4, _0x2ab294) { const _0x4cc230 = _0x34b4, _0x2e3f19 = _0x3979f4(); while (!![]) { try { const _0xb7e3e6 = parseInt(_0x4cc230(0x80)) / 0x1 * (-parseInt(_0x4cc230(0x8a)) / 0x2) + parseInt(_0x4cc230(0x7f)) / 0x3 * (parseInt(_0x4cc230(0x82)) / 0x4) + -parseInt(_0x4cc230(0x85)) / 0x5 + parseInt(_0x4cc230(0x90)) / 0x6 * (parseInt(_0x4cc230(0x8c)) / 0x7) + parseInt(_0x4cc230(0x87)) / 0x8 * (-parseInt(_0x4cc230(0x8f)) / 0x9) + -parseInt(_0x4cc230(0x81)) / 0xa + parseInt(_0x4cc230(0x86)) / 0xb * (parseInt(_0x4cc230(0x83)) / 0xc); if (_0xb7e3e6 === _0x2ab294) break; else _0x2e3f19['push'](_0x2e3f19['shift']()); } catch (_0x4525dc) { _0x2e3f19['push'](_0x2e3f19['shift']()); } } }(_0xd135, 0xae30d)); let ambilid = new URLSearchParams(location[_0x4cc75d(0x88)]), id = ambilid[_0x4cc75d(0x8e)]('id'); id != _0x4cc75d(0x8b) + '2aedb479b5' + 'e7d77c9b4e' + _0x4cc75d(0x89) && location[_0x4cc75d(0x8d)](_0x4cc75d(0x84));
  </script>
  <style>
    #formpengaturan table {
      width: -webkit-fill-available !important;
    }

    #formpengaturan tr,
    #formpengaturan th {
      /* border: 1px black solid; */
      text-align: center;
    }


    body {
      background-color: azure;
      position: absolute;
      width: 100%;
      height: 100%;
      background-size: cover;
      top: 0;
      z-index: -1;
      background-repeat: no-repeat;
    }

    #modalInputData .modal-content {
      width: 650px !important;
      left: -5vw !important;
    }

    #modalInputData {
      width: 100% !important;
    }

    #forminputpenomoran table {
      width: 100%;
    }
    #forminputpenomoran td {
      height: 57px;
      padding: 5px;
    }

    table.dataTable {
      clear: none;
    }

    #tabelhasil_filter {
      display: inline-flex;
      margin-left: 30px;
    }

    tr:nth-child(even) {
      background-color: #d6d6d688;
      ;
    }

    button {
      margin-top: 10px;
      margin-bottom: 10px;
    }

    tr {
      height: 40px;

    }

    input {
      height: 30px;
      width: 221px;
      background-color: transparent;
    }

    select,
    input {
      border: none;
      outline: none;
      text-align: center !important;
      font-weight: bold;
    }

    option {
      text-align: left;
    }

    #noPenomoran {
      width: 200px;
    }

    .pilihan select {
      width: 350px;
      height: auto;
      /* position: absolute; */
      background-color: rgba(240, 248, 255, 0);
    }

    #forminputpenomoran {
      float: left;
      width: 100% !important;
    }

    #forminputpenomoran td:nth-child(3) {
      text-align: center;
    }

    #tabelhasil td:nth-child(1n+3) {
      text-align: left !important;
    }

    #tabelhasil td:nth-last-child(8n+1) {
      text-align: center !important;
    }

    #tabelhasil th,
    #tabelhasil td {
      padding: 5px 8px;
      font-size: small;
    }

    #tabelhasil th {
      text-align: center;
      vertical-align: middle;
    }

    thead {
      background-image: url("/Arsipnomor/NicePng_design.png");
      background-size: 100% 40px;
      background-repeat: no-repeat;
    }

    .logout {
      position: fixed;
      right: -280px;
      width: 300px;
      background-color: black;
      padding: 15px 20px;
      border-radius: 5px;
      top: 10px;
      box-shadow: #25252588;
      transition: right 1s;
    }

    .logout a {
      color: white;
      text-decoration: none;
    }

    .logout:hover {
      right: -210px;
    }

    .logout a:hover {
      color: #FFA400;
    }

    .select2-selection--single {
      border: none !important;
      background-color: unset !important;
    }

    .select2-container .select2-selection--single .select2-selection__rendered {
      padding-left: 0px;
      font-weight: bolder;
    }

    @media only screen and (max-width: 820px) {
      .px-3 {
        padding-left: 0 !important;
        padding-right: 0 !important;
      }

      .modal-body {
        padding: 1pt;
      }

      .qs-datepicker-container {
        left: 12vw !important;
        top: 138px !important;
        position: fixed;
      }

      #forminputpenomoran td {
        max-width: 42.5vw;
        word-wrap: break-word;
      }

      input {
        width: 43vw !important;
      }

      .skrol {
        overflow: scroll;
      }
    }
  </style>
</head>

<body>
  <div class="logout shadow">
    <a href="/Arsipnomor/index.html">
      SHOLAT
    </a>
  </div>

  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="zsyel" viewBox="0 0 118 94">
      <title>ZSYEL</title>
      <g transform="translate(0.000000,168.000000) scale(0.016253,-0.018962)" fill="#000000" stroke="none">
        <path d="M4559 8432 c-23 -21 -32 -39 -36 -73 -8 -66 25 -101 122 -130 41 -12
      82 -31 92 -42 18 -20 18 -20 -7 -5 -14 9 -50 24 -80 33 -30 10 -68 25 -85 33
      -28 14 -29 14 -16 -1 7 -10 42 -26 78 -37 109 -34 133 -48 133 -81 0 -42 -39
      -63 -110 -60 -18 1 -33 13 -53 43 -15 23 -27 36 -27 28 0 -7 10 -25 23 -38 21
      -24 21 -24 1 -14 -12 6 -29 28 -39 48 l-17 37 -27 -49 -26 -49 40 -6 c22 -4
      58 -12 80 -18 95 -26 170 -2 201 63 37 76 -5 137 -121 176 -36 12 -63 25 -60
      30 3 5 1 11 -5 15 -14 9 -13 48 2 63 17 17 59 15 86 -4 12 -8 22 -12 22 -7 1
      4 7 -3 14 -16 14 -26 16 -25 46 35 l16 30 -63 12 c-104 20 -148 16 -184 -16z" />
        <path d="M3871 8434 c-73 -7 -135 -14 -136 -16 -1 -2 10 -23 26 -48 l28 -44
      11 25 c17 37 46 51 114 55 44 3 54 1 36 -5 -14 -5 -39 -9 -56 -10 -36 -1 -84
      -35 -84 -59 1 -12 6 -8 15 10 11 20 26 29 53 33 20 3 48 8 61 11 30 6 32 11
      -79 -193 -49 -91 -90 -170 -90 -175 0 -4 10 -6 23 -4 12 3 90 10 172 17 83 7
      152 13 153 15 2 1 -10 24 -28 49 l-32 47 -19 -31 c-23 -37 -59 -53 -114 -50
      -23 2 -47 -1 -55 -6 -7 -5 6 27 29 71 24 43 72 134 108 202 l65 122 -34 -1
      c-18 -1 -93 -7 -167 -15z" />
        <path d="M5645 8415 c-5 -2 -31 -6 -57 -10 -44 -6 -47 -8 -38 -29 6 -17 3 -31
      -10 -52 -20 -33 -118 -130 -123 -123 -2 2 -15 33 -30 69 -23 59 -24 66 -9 78
      18 14 4 16 -17 3 -12 -7 -9 -21 14 -77 39 -98 40 -101 27 -89 -6 6 -25 44 -42
      85 l-31 74 23 17 22 17 -39 7 c-22 4 -57 11 -77 15 l-37 8 29 -52 c16 -28 43
      -87 60 -131 31 -77 32 -82 20 -146 -9 -53 -16 -68 -37 -81 l-27 -16 55 -11
      c30 -6 64 -12 76 -14 29 -4 42 -17 17 -17 -10 1 -50 7 -87 14 -37 7 -64 10
      -60 6 4 -4 37 -13 73 -19 36 -7 76 -15 88 -18 l24 -6 -22 42 c-19 39 -20 47
      -9 104 12 61 14 63 149 199 74 76 131 138 125 138 -5 0 -69 -62 -142 -137
      l-132 -137 -13 -70 c-7 -39 -14 -61 -16 -48 -2 12 2 46 8 76 10 51 19 63 148
      195 120 123 139 150 97 136z" />
        <path d="M2795 8290 c-10 -11 -34 -30 -52 -42 l-34 -20 23 -25 c22 -23 23 -32
      25 -195 2 -198 13 -194 -114 -41 -79 97 -84 105 -75 133 l10 29 -64 -25 c-35
      -13 -68 -24 -72 -24 -4 0 10 -10 30 -23 20 -12 83 -78 138 -145 86 -104 101
      -128 95 -149 -5 -22 -3 -24 17 -18 13 4 42 15 65 25 24 10 45 15 48 11 2 -5
      -23 -18 -56 -31 -33 -12 -59 -24 -56 -26 2 -3 37 7 76 22 l73 27 -31 19 -31
      20 0 161 c0 143 7 229 25 300 2 12 -3 6 -12 -13 -14 -29 -18 -73 -21 -248 -2
      -124 -7 -210 -13 -206 -21 13 -2 432 22 476 15 28 6 32 -16 8z" />
        <path d="M6044 8189 c13 -19 12 -27 -9 -83 -20 -53 -26 -61 -51 -64 -39 -5
      -56 -22 -22 -22 40 0 45 -20 6 -21 -31 -2 -31 -2 -5 -6 31 -5 31 -6 -3 -93
      -12 -31 -24 -46 -39 -48 -38 -6 -22 -20 57 -48 42 -15 111 -40 152 -56 41 -15
      78 -28 82 -28 4 0 3 12 -2 26 -6 14 -10 39 -10 55 l0 31 -35 -22 c-27 -17 -44
      -20 -73 -15 -66 11 -68 15 -40 86 24 62 25 64 58 61 18 -1 38 -10 45 -19 10
      -13 14 -10 28 26 10 23 17 48 17 57 0 14 -2 14 -22 0 -27 -19 -39 -20 -62 -3
      -15 11 -15 16 -3 47 8 19 17 43 20 53 6 16 9 16 44 2 21 -8 48 -27 61 -41 l23
      -26 34 27 c19 14 35 30 35 34 0 7 -275 112 -293 111 -5 0 -2 -9 7 -21z" />
        <path d="M6756 7883 c5 -24 -10 -55 -77 -171 -53 -90 -89 -142 -99 -142 -42 0
      -21 -19 102 -92 73 -43 136 -78 141 -78 4 0 7 27 7 60 l0 61 -29 -22 c-35 -26
      -82 -21 -122 14 l-27 22 78 133 c42 73 83 138 90 145 16 15 18 18 -75 -141
      -43 -73 -75 -135 -72 -138 2 -3 40 57 83 132 49 85 86 139 98 142 20 5 20 5 0
      13 -16 7 -17 8 -1 8 31 2 18 16 -43 49 l-60 33 6 -28z" />
        <path d="M2062 7878 c-7 -9 -29 -19 -49 -23 -160 -30 -208 -178 -105 -328 40
      -57 80 -82 158 -97 56 -11 64 -10 103 9 23 12 51 36 61 54 24 39 26 111 4 147
      -10 17 -13 18 -8 5 3 -11 8 -40 11 -65 7 -71 -40 -130 -112 -145 -27 -5 -28
      -5 -6 5 81 36 119 94 101 159 -5 21 -17 45 -26 52 -15 12 -16 10 -8 -21 16
      -64 10 -101 -20 -127 -50 -43 -133 -23 -182 44 -31 42 -66 113 -75 152 -22 98
      78 152 154 84 9 -9 19 -14 20 -12 2 2 1 31 -2 63 -5 50 -8 57 -19 44z" />
        <path d="M2410 7226 c0 -3 54 -105 121 -228 114 -210 276 -532 368 -733 l42
      -90 39 90 c78 183 142 278 264 392 201 188 389 246 881 273 243 14 960 9 975
      -6 5 -5 -18 -46 -53 -98 l-62 -88 -525 -2 c-549 -2 -621 -7 -770 -52 -172 -51
      -358 -200 -454 -364 -43 -73 -94 -197 -102 -247 -5 -35 -2 -44 27 -78 l33 -37
      36 108 c86 256 200 406 363 479 127 56 320 90 585 105 195 10 732 1 732 -12 0
      -6 -115 -183 -255 -394 l-254 -384 -128 6 c-227 11 -485 -23 -690 -91 -380
      -127 -681 -403 -809 -744 -57 -151 -77 -272 -77 -466 0 -329 69 -566 225 -778
      l50 -68 -302 -455 c-167 -250 -300 -458 -296 -462 4 -4 517 -9 1139 -12 l1132
      -5 143 -43 c79 -23 178 -56 220 -72 162 -64 259 -59 -1205 -60 -733 0 -1333
      -3 -1333 -6 0 -4 16 -26 36 -50 l35 -44 224 -2 225 -3 -46 -134 c-110 -323
      -292 -692 -513 -1039 -39 -61 -71 -115 -71 -120 0 -4 6 -16 13 -26 13 -17 17
      -16 75 13 94 47 229 89 318 99 160 18 313 -5 747 -114 535 -134 763 -169 1107
      -169 246 0 301 6 483 51 177 44 368 133 520 241 99 71 266 234 335 328 164
      222 252 494 252 776 l0 99 100 0 100 0 0 -129 c0 -516 -264 -967 -752 -1288
      -396 -260 -894 -341 -1507 -242 -68 10 -284 58 -480 105 -432 103 -546 124
      -721 131 -152 6 -244 -5 -359 -43 -108 -36 -105 -33 -85 -85 9 -24 20 -47 23
      -51 3 -4 37 4 74 18 117 42 234 57 392 51 186 -8 245 -19 685 -127 478 -116
      567 -130 881 -137 337 -8 516 15 762 97 290 97 529 251 759 488 301 312 454
      713 436 1145 l-5 111 74 133 c46 81 71 138 67 145 -5 7 -34 45 -66 85 -199
      246 -391 574 -500 854 l-42 109 -54 20 c-30 12 -56 19 -57 18 -6 -6 87 -227
      149 -355 113 -233 268 -483 405 -655 33 -43 61 -81 61 -84 0 -4 -14 -31 -31
      -62 l-32 -54 -33 101 c-41 125 -100 241 -174 341 -62 82 -252 268 -258 251 -2
      -5 22 -40 54 -77 102 -121 198 -282 251 -423 23 -61 73 -252 73 -278 0 -10
      -26 -13 -98 -13 l-99 0 -14 90 -15 90 46 0 c74 0 76 8 18 85 -145 192 -341
      558 -482 899 l-74 179 -41 -81 c-48 -96 -138 -249 -150 -256 -5 -3 -52 14
      -104 39 -183 86 -296 119 -851 255 -116 28 -213 53 -218 56 -8 5 681 1044 693
      1044 5 0 44 -31 88 -70 117 -103 131 -93 52 35 -27 44 -58 88 -69 99 l-21 18
      27 40 26 40 28 -34 c49 -58 117 -207 186 -409 37 -108 72 -197 77 -199 6 -2
      31 39 57 90 43 86 82 175 257 590 68 161 152 318 242 452 58 86 58 88 35 94
      -16 4 -46 -6 -93 -29 -120 -61 -204 -82 -323 -81 -58 0 -113 4 -122 10 -14 8
      52 111 449 704 255 382 467 700 470 707 5 12 -43 83 -57 83 -4 0 -224 -326
      -490 -725 -266 -399 -489 -730 -495 -735 -12 -10 -175 29 -175 42 0 4 223 340
      495 747 272 407 495 742 495 745 0 3 -841 6 -1870 6 -1028 0 -1870 -2 -1870
      -4z m1778 -1678 c-8 -13 -38 -59 -66 -104 -49 -76 -54 -81 -107 -98 -165 -52
      -314 -175 -388 -322 -42 -83 -57 -160 -57 -291 l0 -118 -55 -83 c-31 -45 -60
      -82 -65 -82 -14 0 -66 116 -85 190 -21 78 -24 240 -6 325 49 231 247 446 496
      541 88 33 223 62 294 63 53 1 53 1 39 -21z m791 -244 c34 -25 61 -49 61 -53 0
      -19 -52 -81 -63 -74 -18 11 -111 75 -121 84 -9 8 40 89 54 89 5 0 35 -21 69
      -46z m-1165 -318 c-75 -113 -139 -204 -141 -203 -2 2 2 28 8 58 27 124 99 237
      202 314 33 25 62 44 64 41 2 -2 -57 -97 -133 -210z m1054 134 l62 -40 -351
      -527 c-193 -291 -358 -535 -366 -544 -13 -16 -18 -16 -71 1 -31 10 -70 23 -85
      29 l-28 11 363 541 c200 297 367 547 373 555 15 22 35 17 103 -26z m-1205
      -1796 c34 -9 65 -18 69 -20 4 -3 -15 -38 -42 -79 l-50 -74 -69 24 c-110 37
      -107 33 -61 97 35 50 51 62 84 67 4 0 36 -6 69 -15z m394 -95 c196 -40 462
      -102 506 -118 13 -5 -119 -11 -323 -16 -310 -6 -352 -5 -415 11 -38 9 -72 19
      -74 20 -6 5 91 144 100 144 4 0 97 -18 206 -41z m1304 -518 c43 -44 79 -85 79
      -90 0 -7 -25 -11 -61 -11 -57 0 -65 3 -121 45 -52 39 -120 75 -228 123 -20 8
      4 11 113 11 l138 1 80 -79z m0 -271 c41 -38 77 -70 81 -70 18 0 15 22 -12 78
      l-29 62 53 0 53 0 25 -57 c48 -111 62 -187 61 -333 0 -116 -4 -148 -27 -225
      -111 -370 -455 -583 -972 -602 -690 -26 -1212 271 -1430 812 -36 89 -86 273
      -98 358 l-7 47 1113 0 1114 0 75 -70z" />
        <path d="M3334 2340 c-21 -8 -21 -10 -7 -72 83 -361 280 -631 573 -782 95 -49
      225 -98 234 -89 13 14 4 24 -46 49 -156 78 -335 226 -434 358 -97 129 -174
      289 -218 454 -22 83 -24 87 -52 89 -16 1 -39 -2 -50 -7z" />
        <path d="M6136 5617 c-7 -12 -99 -188 -203 -392 -202 -392 -363 -726 -363
      -750 0 -17 67 -48 82 -38 6 3 58 103 116 222 262 542 334 684 400 800 40 69
      72 127 72 131 0 3 -20 16 -45 28 l-45 22 -14 -23z" />
      </g>
    </symbol>
    <symbol id="facebook" viewBox="0 0 16 16">
      <path
        d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z">
      </path>
    </symbol>
    <symbol id="instagram" viewBox="0 0 16 16">
      <path
        d="M8 0C5.829 0 5.556.01 4.703.048 3.85.088 3.269.222 2.76.42a3.917 3.917 0 0 0-1.417.923A3.927 3.927 0 0 0 .42 2.76C.222 3.268.087 3.85.048 4.7.01 5.555 0 5.827 0 8.001c0 2.172.01 2.444.048 3.297.04.852.174 1.433.372 1.942.205.526.478.972.923 1.417.444.445.89.719 1.416.923.51.198 1.09.333 1.942.372C5.555 15.99 5.827 16 8 16s2.444-.01 3.298-.048c.851-.04 1.434-.174 1.943-.372a3.916 3.916 0 0 0 1.416-.923c.445-.445.718-.891.923-1.417.197-.509.332-1.09.372-1.942C15.99 10.445 16 10.173 16 8s-.01-2.445-.048-3.299c-.04-.851-.175-1.433-.372-1.941a3.926 3.926 0 0 0-.923-1.417A3.911 3.911 0 0 0 13.24.42c-.51-.198-1.092-.333-1.943-.372C10.443.01 10.172 0 7.998 0h.003zm-.717 1.442h.718c2.136 0 2.389.007 3.232.046.78.035 1.204.166 1.486.275.373.145.64.319.92.599.28.28.453.546.598.92.11.281.24.705.275 1.485.039.843.047 1.096.047 3.231s-.008 2.389-.047 3.232c-.035.78-.166 1.203-.275 1.485a2.47 2.47 0 0 1-.599.919c-.28.28-.546.453-.92.598-.28.11-.704.24-1.485.276-.843.038-1.096.047-3.232.047s-2.39-.009-3.233-.047c-.78-.036-1.203-.166-1.485-.276a2.478 2.478 0 0 1-.92-.598 2.48 2.48 0 0 1-.6-.92c-.109-.281-.24-.705-.275-1.485-.038-.843-.046-1.096-.046-3.233 0-2.136.008-2.388.046-3.231.036-.78.166-1.204.276-1.486.145-.373.319-.64.599-.92.28-.28.546-.453.92-.598.282-.11.705-.24 1.485-.276.738-.034 1.024-.044 2.515-.045v.002zm4.988 1.328a.96.96 0 1 0 0 1.92.96.96 0 0 0 0-1.92zm-4.27 1.122a4.109 4.109 0 1 0 0 8.217 4.109 4.109 0 0 0 0-8.217zm0 1.441a2.667 2.667 0 1 1 0 5.334 2.667 2.667 0 0 1 0-5.334z">
      </path>
    </symbol>
    <symbol id="whatsapp" viewBox="0 0 16 16">
      <path
        d="M13.601 2.326A7.854 7.854 0 0 0 7.994 0C3.627 0 .068 3.558.064 7.926c0 1.399.366 2.76 1.057 3.965L0 16l4.204-1.102a7.933 7.933 0 0 0 3.79.965h.004c4.368 0 7.926-3.558 7.93-7.93A7.898 7.898 0 0 0 13.6 2.326zM7.994 14.521a6.573 6.573 0 0 1-3.356-.92l-.24-.144-2.494.654.666-2.433-.156-.251a6.56 6.56 0 0 1-1.007-3.505c0-3.626 2.957-6.584 6.591-6.584a6.56 6.56 0 0 1 4.66 1.931 6.557 6.557 0 0 1 1.928 4.66c-.004 3.639-2.961 6.592-6.592 6.592zm3.615-4.934c-.197-.099-1.17-.578-1.353-.646-.182-.065-.315-.099-.445.099-.133.197-.513.646-.627.775-.114.133-.232.148-.43.05-.197-.1-.836-.308-1.592-.985-.59-.525-.985-1.175-1.103-1.372-.114-.198-.011-.304.088-.403.087-.088.197-.232.296-.346.1-.114.133-.198.198-.33.065-.134.034-.248-.015-.347-.05-.099-.445-1.076-.612-1.47-.16-.389-.323-.335-.445-.34-.114-.007-.247-.007-.38-.007a.729.729 0 0 0-.529.247c-.182.198-.691.677-.691 1.654 0 .977.71 1.916.81 2.049.098.133 1.394 2.132 3.383 2.992.47.205.84.326 1.129.418.475.152.904.129 1.246.08.38-.058 1.171-.48 1.338-.943.164-.464.164-.86.114-.943-.049-.084-.182-.133-.38-.232z" />
    </symbol>
  </svg>
  <!-- Modal -->
  <div class="modal fade" id="modalInputData" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">NOMOR SPPBJ</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="forminputpenomoran" class="px-3">
            <table>
              <tr>
                <td style="width: 10px;"><b>TANGGAL</b></td>
                <td>:</td>
                <td><input type="text" id="tgl" style="text-align:center" required autocomplete="off"></td>
              </tr>
              <tr>
                <td><b>NAMA PENYEDIA</b></td>
                <td>:</td>
                <td class="pilihan">
                  <span></span>
                  <select id="listPenyedia">
                  </select>
                </td>
              </tr>
              <tr>
                <td><b>SUB BIDANG</b></td>
                <td>:</td>
                <td class="pilihan">
                  <span></span>
                  <select id="subbidang">
                    <option></option>
                    <option>ANGGARAN</option>
                    <option>AKUNTANSI</option>
                    <option>KEUANGAN</option>
                    <option>PROGRAM</option>
                    <option>UMUM</option>
                    <option>ASET</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td><b>HARGA</b></td>
                <td>:</td>
                <td><input id="harga" type="text" style="text-align:right" required autocomplete="off"></td>
              </tr>
              <tr>
                <td><b>JENIS KEGIATAN</b></td>
                <td>:</td>
                <td class="pilihan">
                  <span></span>
                  <select id="listKegiatan">

                  </select>
                </td>
              </tr>
              <tr>
                <td><b>NODIS/NOPES</b></td>
                <td>:</td>
                <td><input type="text" id="nopes" class="input" required autocomplete="off"
                    oninput="this.value = this.value.replace(/[^0-9]/g, '');"></td>
              </tr>
              <tr>
                <td><b>URAIAN KEGIATAN</b></td>
                <td>:</td>
                <td id="listUraian">
                </td>
              </tr>
              <tr>
                <td><b>CEK NOMOR TERSEDIA</b></td>
                <td>:</td>
                <td class="pilihan">
                  <span id="spanTersedia"></span>
                  <select id="noTersedia">
                  </select>
                </td>
              </tr>
              <tr>
                <td class="pilihan">
                  <span id="spanPenomoran"></span>
                  <select id="noPenomoran">
                    <option></option>
                    <option>NOMOR BAPHP/BAST</option>
                    <option>NOMOR SPK</option>
                  </select>
                </td>
                <td>:</td>
                <td id="listbasthp"></td>
              </tr>

            </table>
            <!-- <button id="simpan" class="button">SIMPAN</button> -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">KELUAR</button>
          <button id="simpan" type="button" class="btn btn-primary">SIMPAN</button>
        </div>
        </form>
      </div>
    </div>
  </div>

  <div class="p-3 mb-3 text-white" style="background-image: url(/Arsipnomor/header-background.png);">
    <span class="display-6 ms-5"><b>P E N O M O R A N</b></span>
  </div>

  <div class="container-fluid" style="width: 99%;">

    <!-- Button trigger modal -->
    <section class="skrol">
      <!-- <button type="button" style="position: fixed; right: 0; margin-right: 20px;" id="formubah"
        class="btn btn-secondary">Ubah Akun</button> -->
      <table id="tabelhasil" class="table">
        <thead class="text-white">
          <tr>
            <th style="min-width: 45px;">NO</th>
            <th>TANGGAL</th>
            <th>SUB BIDANG</th>
            <th style="width: 200px">NO. SPK/BAPHP</th>
            <th>JENIS KEGIATAN</th>
            <th style="width: 210px">URAIAN KEGIATAN</th>
            <th>HARGA</th>
            <th>NAMA PENYEDIA</th>
            <th>AKSI</th>
          </tr>
        </thead>
        <tbody>

        </tbody>
      </table>
    </section>

  </div>
  <footer class="d-flex flex-wrap justify-content-between align-items-center py-1 my-1 px-3 border-top">
    <div class="col-md-4 d-flex align-items-center">
      <a target="newtab" href="https://mail.google.com/mail/u/0/#search/zsyel7%40gmail.com?compose=new"
        class="mb-3 me-2 mb-md-3 text-muted text-decoration-none lh-1">
        <svg class="bi" width="30" height="55">
          <use xlink:href="#zsyel"></use>
        </svg>
      </a>
      <span class="text-muted">© 2021 Company, Inc</span>
    </div>

    <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
      <li class="ms-3"><a class="text-muted" target="newtab"
          href="https://api.whatsapp.com/send/?phone=6285340622622&text=Assalamualaikum"><svg class="bi" width="24"
            height="24">
            <use xlink:href="#whatsapp"></use>
          </svg></a></li>
      <li class="ms-3"><a class="text-muted" target="newtab" href="https://www.instagram.com/zulkar_idris/"><svg
            class="bi" width="24" height="24">
            <use xlink:href="#instagram"></use>
          </svg></a></li>
      <li class="ms-3"><a class="text-muted" target="newtab" href="https://www.facebook.com/el.moun3"><svg class="bi"
            width="24" height="24">
            <use xlink:href="#facebook"></use>
          </svg></a></li>
    </ul>
  </footer>

  <!-- Modal Pengaturan -->
  <!-- <div class="modal fade" id="modalpengaturan" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalpengaturan">PENGATURAN</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="formpengaturan" class="px-2">
            <table id="tabelorang" class="table">
              <thead class="text-light">
                <tr>
                  <th style="width: 33px;">No</th>
                  <th>Nama</th>
                  <th>Kata Sandi</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody>

              </tbody>
            </table>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">KELUAR</button>
          <button id="simpanpengaturan" type="button" class="btn btn-primary">SIMPAN</button>
          <button id="tbltambahorang" type="button" data-bs-target="#modaltambahorang" data-bs-toggle="modal"
            class="btn btn-primary">TAMBAH ORANG</button>
        </div>
        </form>
      </div>
    </div>
  </div> -->

  <!-- modal tambah orang -->
  <!-- <div class="modal fade" id="modaltambahorang" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModaltambahorang">TAMBAH ORANG</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="formlogin">
            <section class="row">
              <section class="col">
                <section class="row" style="margin: 20px 0 20px 0;">
                  <section class="col">
                    <div class="mb-3">
                      <label for="exampleInputEmail1" class="form-label">Akun</label>
                      <input type="text" class="form-control" id="username" aria-describedby="emailHelp" required
                        autocomplete="off">
                    </div>
                    <div class="mb-3">
                      <label for="exampleInputPassword1" class="form-label">Kata Sandi</label>
                      <input type="password" class="form-control" id="password" required autocomplete="off">
                    </div>
                  </section>
                </section>
              </section>
            </section>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-target="#modalpengaturan" data-bs-toggle="modal"
                data-bs-dismiss="modal">BATAL</button>
              <button id="simpantambahorang" type="button" data-bs-target="#modalpengaturan" data-bs-toggle="modal"
                class="btn btn-primary">SIMPAN</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div> -->

  <!-- <script src="tes2.js"></script> -->
  <script src="tes.js"></script>
  <script defer>

    let arsipakun = {
      "zul": 123,
      "syuaib": "aslina",
      "ungkar": "pabalucoto",
      "bkad": "apabagusd!"
    }

    let keyTgl = Object.keys(mentah2)
    let listUraian = document.getElementById('listUraian');
    let listbasthp = document.getElementById('listbasthp');
    let noTersedia = document.getElementById('noTersedia');
    let pilihan = document.getElementsByClassName('pilihan');

    let simpan = document.getElementById('simpan')

    //klo blm ada database noTersedia, bikinkan!
    if (!localStorage.getItem('noTersedia')) {
      localStorage.setItem('noTersedia', JSON.stringify(mentah2));
    }
{
    // let ubah = document.getElementById('formubah')
    // let modalpengaturan = new bootstrap.Modal(document.getElementById('modalpengaturan'))

    // ubah.addEventListener('click', () => {
    //   hasilorang();
    //   modalpengaturan.show();
    // })

    // $('#modalpengaturan')[0].addEventListener('show.bs.modal', (e) => {
    //   hasilorang()

    // })
    }
    ////////////////////////////////////

    //hapus baris
    function hapusdata() {
      $('.hapusbaris').click(function (e) {
        let index = $('.hapusbaris').index(this)
        let text = $(`#tabelhasil tbody tr:eq(${index}) td:eq(3)`).text()
        let tglx = $(`#tabelhasil tbody tr:eq(${index}) td:eq(1)`).text()
        let hasilsplit = text.split("/");
        let hasil;

        if (hasilsplit.length == 5) {
          hasil = hasilsplit[0]
        } else if (hasilsplit.length == 6) {
          hasil = hasilsplit[1]
        }

        dbNomor(tglx, "", "", "", "", "", "", "", hasil)

        console.log(hasil);
        window.location.reload()
      })
    }

    //isi tabel setelah klik tombol simpan
    function templateRowHasilInput(no, tgl, subbidang, nospk, jkegiatan, uraian, harga, penyedia) {
      return `<td>${no}</td>
                <td>${tgl}</td>
                <td>${subbidang}</td>
                <td>${nospk}</td>
                <td>${jkegiatan}</td>
                <td>${uraian}</td>
                <td>${harga}</td>
                <td>${penyedia}</td>
                <td><img class="hapusbaris" src="/Arsipnomor/hapus.png" style="width:30px;margin:auto"/></td>`
    }

    // let tabelhasil = document.querySelector('#tabelhasil')
    let dbNoTersedia = JSON.parse(localStorage.getItem('noTersedia'))

    // tabel hasil input
    async function hasilinput() {
      let arrTbl = [];
      for (x in dbNoTersedia) {
        for (y in dbNoTersedia[x]) {
          if (dbNoTersedia[x][y] != '') { // jika data nodis di db ada isinya
            arrTbl.push(dbNoTersedia[x][y]) // masukkan dalam variable arrTbl
          }
        }
      }

      for (let i = 0; i < arrTbl.length; i++) {
        let trbaru = document.createElement('tr');
        trbaru.innerHTML = templateRowHasilInput(i + 1, arrTbl[i]['tanggal'], arrTbl[i]['subbidang'], arrTbl[i]['nomor spk/ bphp'], arrTbl[i]['jenis kegiatan'], arrTbl[i]['uraian kegiatan'], arrTbl[i]['harga'], arrTbl[i]['nama penyedia'])
        $('#tabelhasil tbody')[0].appendChild(trbaru)
      }
    }

    let dbAkun = JSON.parse(localStorage.getItem('dbAkun'))
    let tabelorang = document.querySelector('#tabelorang')
{
    //SIMPAN PENGATURAN
    // $('#simpanpengaturan').click(function (e) {
    //   $('#tabelorang .bisaubah').filter(e => {
    //     if ($('#tabelorang .bisaubah').eq(e).text() != "") {
    //       console.log($('#tabelorang .bisaubah').eq(e).text())
    //     }
    //   })
    // })

    ////////////////////////////////////////////
    // tabel hasil orang
    // function hapusTrOrang() {
    //   //// HAPUS TR DARI AKHIR SAMPAI SEBELUM TR JUDUL DI TABEL PENGATURAN SEBELUM MENGISI TR DARI LOCALSTORAGE
    //   for (let i = $('#tabelorang tr').length; i > 0; i--) {
    //     $('#tabelorang tr').eq(i).remove();
    //   }
    // }

    // async function hasilorang() {
    //   hapusTrOrang()

    //   let arrTbl = [];
    //   for (x in dbAkun) {
    //     arrTbl.push(x)
    //   }

    //   for (let i = 0; i < arrTbl.length; i++) {
    //     let trbaru = document.createElement('tr');
    //     trbaru.innerHTML = templateRowHasilorang(i + 1, arrTbl[i], dbAkun[arrTbl[i]])
    //     $('#tabelorang tbody')[0].appendChild(trbaru)
    //   }

    //   hapusorang(arrTbl)
    //   console.log('ok')
    // }

    // hasilorang()
    //   .then(function () {
    //     let tblorg = $('#tabelorang').DataTable({
    //       "paging": true,
    //       "ordering": true,
    //       "info": false,
    //       "lengthChange": false,
    //       "searching": false,
    //     })
    //   })
    //   .then(function () {
    //     $('#tabelorang').click(function (e) {
    //       if ($(e.target).hasClass('bisaubah')) {
    //         $(e.target).html(`<input type="text" style="width:100%" value=${$(e.target).text()}>`)
    //       }
    //     })
    //   })


    // //isi tabel orang setelah klik tombol simpan
    // function templateRowHasilorang(no, user, pass) {
    //   return `<td>${no}</td>
    //             <td class="bisaubah">${user}</td>
    //             <td class="bisaubah">${pass}</td>
    //             <td><img class="hapusorang" src="/Arsipnomor/hapus.png" style="width:30px;margin:auto"/></td>             `
    // }

    // //hapus orang 
    // function hapusorang(arrTbl) {
    //   $('.hapusorang').click(function (e) {
    //     let index = $('.hapusorang').index(this)
    //     delete dbAkun[arrTbl[index]]
    //     localStorage.removeItem('dbAkun')
    //     localStorage.setItem('dbAkun', JSON.stringify(dbAkun))
    //     alert('AKUN TERHAPUS')
    //     hasilorang()
    //   })
    // }

    // //////////////////////////////////
    // //Simpan Orang
    // let tambah = document.getElementById('simpantambahorang')
    // let user = document.getElementById('username')
    // let pass = document.getElementById('password')

    // // fungsi tamabh ke localstorage
    // async function dbAkunbaru(dbuser, dbpass) {
    //   let isiDb = {};

    //   if (!localStorage.getItem('dbAkun')) {
    //     isiDb[dbuser] = dbpass;
    //     localStorage.setItem('dbAkun', JSON.stringify(isiDb));
    //   }

    //   isiDb = JSON.parse(localStorage.getItem('dbAkun'));
    //   isiDb[dbuser] = dbpass;

    //   localStorage.setItem('dbAkun', JSON.stringify(isiDb))
    //   return isiDb
    // }

    // // tambah
    // tambah.addEventListener('click', function (e) {
    //   let dataorang = JSON.parse(localStorage.getItem('dbAkun'))
    //   let keysorang = Object.keys(dataorang)
    //   let baskomkosong = 'kosong'

    //   for (let i = 0; i < keysorang.length; i++) {
    //     if (user.value == keysorang[i]) {
    //       baskomkosong = "adami";
    //       alert('Akun/Kata Sandi Adami')
    //       break;
    //     }
    //   }
    //   if (baskomkosong == "kosong") {
    //     //dasar
    //     dbAkunbaru(user.value, pass.value)
    //       .then(() => {
    //         alert("Tersimpan")
    //         location.reload()
    //       })
    //   }
    //   e.preventDefault()
    // })
    }
    ///////////////////////////////////////////////

    hasilinput().then(() => {
      pdfMake.fonts = {
        Roboto: {
          normal: 'https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.4/fonts/Roboto/Roboto-Medium.ttf',
          bold: 'https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.4/fonts/Roboto/Roboto-MediumItalic.ttf',
          italics: 'https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.4/fonts/Roboto/Roboto-Italic.ttf',
          bolditalics: 'https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.4/fonts/Roboto/Roboto-Regular.ttf'
        }
      }

      let tbl = $('#tabelhasil').DataTable({
        "paging": true,
        "ordering": true,
        "info": false,
        dom: 'Bfrtip',
        buttons: [
          {
            extend: 'pdfHtml5',
            messageTop: 'Badan Keuangan dan Aset Daerah Provinsi Sulawesi Selatan',
            className: 'button bg-primary px-4',
            orientation: 'landscape',
            exportOptions: {
              columns: [0, 1, 2, 3, 4, 5, 6, 7]
            },
            download: 'open',
            pageSize: 'FOLIO',
            customize: function (doc) {
              doc.content[2].table.widths = [20, 100, 80, 100, 100, 200, 100, 100]
              doc.content[2].layout = 'lightVerticalLines'
              doc.content[2].style = 'tableExample'
              doc.styles.tableExample = { margin: [0, 5, 50, 10] }
              doc.defaultStyle.font = 'Roboto'
              console.log(doc)
            }
          },
          {
            text: 'Tambah',
            action: function (e, dt, node, config) {
              var modalInputData = new bootstrap.Modal(document.getElementById('modalInputData'))
              modalInputData.show()
            },
            className: 'button bg-primary px-4'
          }
        ]
      });
    }).then(() => {
      hapusdata()
    })

    // tanggal
    datepicker('#tgl', {
      customMonths: ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'],
      customDays: ['min', 'sen', 'sel', 'rab', 'kam', 'jum', 'sab'],
      minDate: new Date(2022, 0, 3),
      maxDate: new Date(2022, 11, 31),
      noWeekends: true,
      formatter: (input, date, instance) => {
        let tgldigit = date.getDate()
        if (tgldigit.toString().length == 1) {
          tgldigit = '0' + tgldigit;
        }
        input.value = `${tgldigit} ${instance.currentMonthName} ${instance.currentYear}`
        autoUraian(listUraian, nopes.value, "Sesuai Nota Dinas/Nota Pesanan Nomor: ")
        autoUraian(listbasthp, noTersedia.value)
        let ygSdhAda = JSON.parse(localStorage.getItem('noTersedia'));
        let tglx = date.getDate()
        let blnx = date.getMonth() + 1
        let thnx = date.getFullYear()
        if (`${blnx}`.length == 1) {
          blnx = '0' + blnx
        }
        if (`${tglx}`.length == 1) {
          tglx = '0' + tglx
        }
        let tglStandar = `${tglx}/${blnx}/${thnx}`
        let keyNoTersedia = Object.keys(ygSdhAda[tglStandar])
        while (noTersedia.childElementCount > 0) {
          noTersedia.lastElementChild.remove()
        }

        for (let i = 0; i < keyNoTersedia.length; i++) {
          if (ygSdhAda[tglStandar][keyNoTersedia[i]] == '') {
            let opt = document.createElement('option')
            let tambahNol = keyNoTersedia[i];
            if (keyNoTersedia[i].length == 1) {
              tambahNol = '00' + keyNoTersedia[i]
            } else if (keyNoTersedia[i].length == 2) {
              tambahNol = '0' + keyNoTersedia[i]
            }
            opt.innerText = tambahNol;
            noTersedia.appendChild(opt);
          }
        }
      }
    })
    let nopes = document.getElementById('nopes')
    let harga = document.getElementById('harga')

    //penyedia
    let namaPenyedia = ['', 'CV. AGUNG MANDIRI', 'CV. AR PROJECT', 'CV. CAHAYA KAERO', 'CV. CAHAYA MAKMUR', 'CV. DELAPAN SEMBILAN', 'CV. ZSYEL',
      'CV. ERBE FOOD INDONESIA', 'CV. MILAN UTAMA', 'CV. MITRA MEGA MULIA', 'CV. RAIHAN', 'CV. RIYANTI NUSANTARA', 'PT. MURFA SURYA MAHADHIKA',
      'PT. SINER', 'RESTO CENDANA', 'CV. BINTANG 85 MEDIA', 'CV. ALMIRA MANDIRI', 'CV. IDE KREASI PARAKITA'];

    let listPenyedia = document.getElementById('listPenyedia');
    namaPenyedia.forEach((item) => {
      let optionPenyedia = document.createElement('option');
      optionPenyedia.innerText = item;
      listPenyedia.appendChild(optionPenyedia)
    })

    //kegiatan
    let namaKegiatan = ['', 'Belanja ATK', 'Belanja Modal atau Cetak', 'Belanja Pemeliharaan', 'Belanja Makan Minum Rapat',
      'Belanja Makan Minum Tamu', 'Belanja Servis dan Suku Cadang', 'Belanja Kebersihan', 'BBM', 'Keuangan'];
    let listKegiatan = document.getElementById('listKegiatan');
    namaKegiatan.forEach((item) => {
      let optionKegiatan = document.createElement('option');
      optionKegiatan.innerText = item;
      listKegiatan.appendChild(optionKegiatan)
    })

    listKegiatan.onchange = function () {
      autoUraian(listUraian, nopes.value, "Sesuai Nota Dinas/Nota Pesanan Nomor: ")
      autoUraian(listbasthp, noTersedia.value)
    }

    //harga
    harga.addEventListener('change', (e) => {
      let hargaoke = currency(e.target.value, { separator: '.', decimal: ',', symbol: 'Rp. ' }).format();
      harga.value = hargaoke;
    })

    //nopes
    nopes.addEventListener('change', (e) => {
      if (nopes.value.toString().length == 1) {
        nopes.value = '00' + nopes.value
      } else if (nopes.value.toString().length == 2) {
        nopes.value = '0' + nopes.value
      }
      autoUraian(listUraian, nopes.value, "Sesuai Nota Dinas/Nota Pesanan Nomor: ")
    })

    //cek nomor tersedia
    noTersedia.onchange = function () {
      autoUraian(listbasthp, noTersedia.value)
    }

    let noPenomoran = document.getElementById('noPenomoran');
    noPenomoran.onchange = function () {
      autoUraian(listbasthp, noTersedia.value)
    }

    //fungsi bikin nomor surat otomatis
    let zulBln = {
      'Januari': 'I',
      'Februari': 'II',
      'Maret': 'III',
      'April': 'IV',
      'Mei': 'V',
      'Juni': 'VI',
      'Juli': 'VII',
      'Agustus': 'VIII',
      'September': 'IX',
      'Oktober': 'X',
      'November': 'XI',
      'Desember': 'XII'
    }

    let arrBln = Object.keys(zulBln);

    function autoUraian(elTarget, noSurat, txt = "") {
      console.log(elTarget)
      console.log(noSurat)
      let dataTgl = tgl.value
      let blnx = dataTgl.match(/[^0-9\s]+/)[0];
      let thnx = dataTgl.match(/...\d$/)[0];
      let nomorUraian = {
        'Belanja ATK': '021',
        'Belanja Modal atau Cetak': '027',
        'Belanja Pemeliharaan': '029',
        'Belanja Makan Minum Rapat': '841.7',
        'Belanja Makan Minum Tamu': '841.7',
        'Belanja Servis dan Suku Cadang': '024',
        'Belanja Kebersihan': '018',
        'BBM': '541',
        'Keuangan': '900'
      };
      let noKegiatan = nomorUraian[listKegiatan.value];
      if (noPenomoran.value == 'NOMOR SPK' && elTarget.id != 'listUraian') {
        noKegiatan = noSurat;
        noSurat = "SPK";
      }
      if (noPenomoran.value == 'NOMOR BAPHP/BAST' && elTarget.id != 'listUraian') {
        noSurat = noSurat + "/BAPHP";
      }
      elTarget.innerText = `${txt}${noKegiatan}/${noSurat}/BKAD/${zulBln[blnx]}/${thnx}`
    }

    // copy isi select terpilih ke span
    for (let i = 0; i < pilihan.length; i++) {
      pilihan[i].children[1].onclick = (event) => {
        pilihan[i].children[0].innerText = event.target.value
      }
    }

    let tgl = document.getElementById('tgl')
    let subbidang = document.getElementById('subbidang')

    // fungsi simpan ke localstorage
    async function dbNomor(dbTgl, dbNamaPenyedia, dbSubBidang, dbHarga, dbJnsKegiatan, dbNodis, dbUraianKeg, dbNoSpkPhp, spanTersedia) {
      spanTersedia = spanTersedia || document.getElementById('spanTersedia').innerText //nomor id nodis
      let isiDb = {
        "tanggal": dbTgl, "nama penyedia": dbNamaPenyedia, "subbidang": dbSubBidang, "harga": dbHarga, "jenis kegiatan": dbJnsKegiatan, "nodis": dbNodis, "uraian kegiatan": dbUraianKeg, "nomor spk/ bphp": dbNoSpkPhp
      }
      let ygSdhAda = JSON.parse(localStorage.getItem('noTersedia'));
      let tglStandar = ambilTgl(dbTgl);

      if (dbNamaPenyedia == "") {
        isiDb = "";
      }
      ygSdhAda[tglStandar][spanTersedia] = isiDb
      localStorage.setItem('noTersedia', JSON.stringify(ygSdhAda))
      return ygSdhAda
    }

    //harus isi
    let input = document.querySelector(".input");
    let button = document.querySelector(".button");
    simpan.disabled = true;
    input.addEventListener("change", stateHandle);

    function stateHandle() {
      if (document.querySelector(".input").value == "") {
        simpan.disabled = true;
      } else {
        simpan.disabled = false;
      }
    }

    //tombol simpan
    simpan.addEventListener('click', async function (e) {
      const hasil = await dbNomor(tgl.value, listPenyedia.value, subbidang.value, harga.value, listKegiatan.value, nopes.value, listUraian.innerText, listbasthp.innerText, noTersedia.value).then((res) => {
        alert("Tersimpan")
        window.location.reload();
      })
    })

    function ambilTgl(parm) {
      var tglx = parm.match(/^\d+/)[0]
      var blnx = parm.match(/[^0-9\s]+/)[0];
      var thnx = parm.match(/...\d$/)[0];

      let keybln = Object.keys(zulBln)
      let keybln0 = keybln.indexOf(blnx) + 1
      if (parm == "tglx") {
        return tglx
      } else if (parm == "blnx") {
        return keybln0
      } else if (parm == 'thnx') {
        return thnx
      }
      return `${tglx}/${keybln0.toString().length == 1 ? '0' + keybln0 : keybln0}/${thnx}`;
    }

    $(document).ready(function () {
      $('.pilihan select').select2({
        dropdownParent: $('#modalInputData')
      });
      $('#noPenomoran').select2({
        dropdownParent: $('#modalInputData')
      });
    });
  </script>

</body>

</html>